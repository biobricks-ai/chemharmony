schema: '2.0'
stages:
  reach:
    cmd: Rscript src/05_integrate_reach.R
    deps:
    - path: src/05_integrate_reach.R
      hash: md5
      md5: f02b60446c6f643dce7ea2e5b92ee444
      size: 2381
    outs:
    - path: staging/reach
      hash: md5
      md5: 8e535a847b04278eecd9ca88a129cd21.dir
      size: 870584
      nfiles: 3
  toxcast:
    cmd: Rscript src/04_integrate_toxcast.R
    deps:
    - path: src/04_integrate_toxcast.R
      hash: md5
      md5: 0c489c9ed17f654fe48c220c4d526e8b
      size: 2043
    outs:
    - path: staging/toxcast
      hash: md5
      md5: 34595e8e99fc1ceec75c09b901bcb3c7.dir
      size: 20387566
      nfiles: 3
  chembl:
    cmd: Rscript src/02_integrate_chembl.R
    deps:
    - path: src/02_integrate_chembl.R
      hash: md5
      md5: a031392566f47a281d75b297281e8f16
      size: 3813
    outs:
    - path: staging/chembl
      hash: md5
      md5: 56999c4a8188281056e031ef6b41a3c2.dir
      size: 351398862
      nfiles: 3
  toxvaldb:
    cmd: Rscript src/01_integrate_toxvaldb.R
    deps:
    - path: src/01_integrate_toxvaldb.R
      hash: md5
      md5: ff20ddd1f0f1f6932be0163d2f14c0a8
      size: 2186
    outs:
    - path: staging/toxvaldb
      hash: md5
      md5: 6c73558fb4f2ab9d32a05a7ca954ceb4.dir
      size: 4410439
      nfiles: 3
  ice:
    cmd: Rscript src/06_integrate_ice.R
    deps:
    - path: src/06_integrate_ice.R
      hash: md5
      md5: 8f01330fb4f5d3acab564ba05199e2c5
      size: 8760
    outs:
    - path: staging/ice
      hash: md5
      md5: 76c987c3853ea7f9eb6f07f8be6a17f6.dir
      size: 17616699
      nfiles: 3
  tox21:
    cmd: Rscript src/03_integrate_tox21.R
    deps:
    - path: src/03_integrate_tox21.R
      hash: md5
      md5: 1256ae5bc260447d2942477849fb6f57
      size: 3397
    outs:
    - path: staging/tox21
      hash: md5
      md5: 912a68d8ce133b190132ec51e7182bed.dir
      size: 1377317
      nfiles: 3
  harmonize:
    cmd: Rscript src/99_harmonization.R 2> log/harmonize.log
    deps:
    - path: src/99_harmonization.R
      hash: md5
      md5: 38072657ae1ded56621a388dfdb3f172
      size: 4704
    - path: staging/bindingdb
      hash: md5
      md5: e80554bc75fe646d21ecd7c53a9c74b5.dir
      size: 916320578
      nfiles: 3
    - path: staging/chembl
      hash: md5
      md5: 56999c4a8188281056e031ef6b41a3c2.dir
      size: 351398862
      nfiles: 3
    - path: staging/ctdbase
      hash: md5
      md5: 28e680bea99a9e86f3c02ccdbadb050b.dir
      size: 49305351
      nfiles: 3
    - path: staging/ice
      hash: md5
      md5: 76c987c3853ea7f9eb6f07f8be6a17f6.dir
      size: 17616699
      nfiles: 3
    - path: staging/pubchem
      hash: md5
      md5: 5beac82df30bb7a687033a9b40046e53.dir
      size: 245396245193
      nfiles: 1304
    - path: staging/reach
      hash: md5
      md5: 8e535a847b04278eecd9ca88a129cd21.dir
      size: 870584
      nfiles: 3
    - path: staging/tox21
      hash: md5
      md5: 912a68d8ce133b190132ec51e7182bed.dir
      size: 1377317
      nfiles: 3
    - path: staging/toxcast
      hash: md5
      md5: 34595e8e99fc1ceec75c09b901bcb3c7.dir
      size: 20387566
      nfiles: 3
    - path: staging/toxrefdb
      hash: md5
      md5: ac12c6846193e91b8fcd72f53c756abd.dir
      size: 155028
      nfiles: 3
    - path: staging/toxvaldb
      hash: md5
      md5: 6c73558fb4f2ab9d32a05a7ca954ceb4.dir
      size: 4410439
      nfiles: 3
    outs:
    - path: brick/activities.parquet
      hash: md5
      md5: eba764daf096b1301b44d717482da70d.dir
      size: 484533702
      nfiles: 8
    - path: brick/properties.parquet
      hash: md5
      md5: 3edf5eb3d27d8cb20a454d5536db7326.dir
      size: 2770432
      nfiles: 1
    - path: brick/substances.parquet
      hash: md5
      md5: fc472042b38408706554304ee956d62d.dir
      size: 16502353041
      nfiles: 60
  dependencies:
    cmd: bash src/0_dependencies.sh
  pubchem:
    cmd: python3 src/09_integrate_pubchem.py
    deps:
    - path: src/09_integrate_pubchem.py
      hash: md5
      md5: 9ec7afbea303918fc44844676d661b7f
      size: 4485
    outs:
    - path: staging/pubchem
      hash: md5
      md5: 5beac82df30bb7a687033a9b40046e53.dir
      size: 245396245193
      nfiles: 1304
  ctdbase:
    cmd: Rscript src/07_integrate_ctdbase.R
    deps:
    - path: src/07_integrate_ctdbase.R
      hash: md5
      md5: e8312b8bc134e8669efd76aca34a6aef
      size: 3715
    outs:
    - path: staging/ctdbase
      hash: md5
      md5: 28e680bea99a9e86f3c02ccdbadb050b.dir
      size: 49305351
      nfiles: 3
  toxrefdb:
    cmd: Rscript src/11_integrate_toxrefdb.R
    deps:
    - path: src/11_integrate_toxrefdb.R
      hash: md5
      md5: b82f83b06dd76a42691799e17c2eca14
      size: 2457
    outs:
    - path: staging/toxrefdb
      hash: md5
      md5: ac12c6846193e91b8fcd72f53c756abd.dir
      size: 155028
      nfiles: 3
  bindingdb:
    cmd: Rscript src/10_integrate_bindingdb.R
    deps:
    - path: src/10_integrate_bindingdb.R
      hash: md5
      md5: abbc3b89b62145e9d7d3fcafdaeb6dbd
      size: 3818
    outs:
    - path: staging/bindingdb
      hash: md5
      md5: e80554bc75fe646d21ecd7c53a9c74b5.dir
      size: 916320578
      nfiles: 3
  build_property_categories:
    cmd: python src/91_property_categories.py 2> log/build_property_categories.log
    deps:
    - path: brick/properties.parquet
      hash: md5
      md5: 3edf5eb3d27d8cb20a454d5536db7326.dir
      size: 2770432
      nfiles: 1
    - path: src/91_property_categories.py
      hash: md5
      md5: ae3e8a88deffbff2f7a5c02c8f08116f
      size: 4985
    outs:
    - path: brick/property_categories.parquet
      hash: md5
      md5: 09cfd8e38fa8e0e55e5b0e68fc9c64eb.dir
      size: 1195718
      nfiles: 1
