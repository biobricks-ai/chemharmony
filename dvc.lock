schema: '2.0'
stages:
  reach:
    cmd: Rscript src/05_integrate_reach.R
    deps:
    - path: src/05_integrate_reach.R
      hash: md5
      md5: f02b60446c6f643dce7ea2e5b92ee444
      size: 2381
    outs:
    - path: staging/reach
      hash: md5
      md5: 3a12b72d70720aaebee5cee8d87ac2ed.dir
      size: 870745
      nfiles: 3
  toxcast:
    cmd: Rscript src/04_integrate_toxcast.R
    deps:
    - path: src/04_integrate_toxcast.R
      hash: md5
      md5: 0c489c9ed17f654fe48c220c4d526e8b
      size: 2043
    outs:
    - path: staging/toxcast
      hash: md5
      md5: f89bf0b9aff5f2b34cc7af3a5af5b5da.dir
      size: 20364341
      nfiles: 3
  chembl:
    cmd: Rscript src/02_integrate_chembl.R
    deps:
    - path: src/02_integrate_chembl.R
      hash: md5
      md5: 49da22846698f39549bbff105e9366a3
      size: 4048
    outs:
    - path: staging/chembl
      hash: md5
      md5: 8cfb22e2fced099ab8f036cf1a5e841a.dir
      size: 566633526
      nfiles: 3
  toxvaldb:
    cmd: Rscript src/01_integrate_toxvaldb.R
    deps:
    - path: src/01_integrate_toxvaldb.R
      hash: md5
      md5: ff20ddd1f0f1f6932be0163d2f14c0a8
      size: 2186
    outs:
    - path: staging/toxvaldb
      hash: md5
      md5: 72ab627800c0c81bacbbd842002f42ba.dir
      size: 4410867
      nfiles: 3
  ice:
    cmd: Rscript src/06_integrate_ice.R
    deps:
    - path: src/06_integrate_ice.R
      hash: md5
      md5: 8f01330fb4f5d3acab564ba05199e2c5
      size: 8760
    outs:
    - path: staging/ice
      hash: md5
      md5: 77350210d42620c3ba6dd5d9d27b6ad5.dir
      size: 17617889
      nfiles: 3
  tox21:
    cmd: Rscript src/03_integrate_tox21.R
    deps:
    - path: src/03_integrate_tox21.R
      hash: md5
      md5: 1256ae5bc260447d2942477849fb6f57
      size: 3397
    outs:
    - path: staging/tox21
      hash: md5
      md5: 27818eabd93ea71026fe355098cfe0ab.dir
      size: 1382470
      nfiles: 3
  harmonize:
    cmd: env/bin/python src/80_harmonize.py
    deps:
    - path: src/80_harmonize.py
      hash: md5
      md5: 23e08309c28a914ae74ec81145c10eaa
      size: 4687
    - path: staging/bindingdb
      hash: md5
      md5: 0b97392b9b6852fd8628c88f470d6d12.dir
      size: 916318337
      nfiles: 3
    - path: staging/chembl
      hash: md5
      md5: 8cfb22e2fced099ab8f036cf1a5e841a.dir
      size: 566633526
      nfiles: 3
    - path: staging/ctdbase
      hash: md5
      md5: 6103f9fc41d9324642e6968fdd89049c.dir
      size: 106098673
      nfiles: 3
    - path: staging/ice
      hash: md5
      md5: 77350210d42620c3ba6dd5d9d27b6ad5.dir
      size: 17617889
      nfiles: 3
    - path: staging/pubchem
      hash: md5
      md5: ce560f24f97fd25e84e979b4dce36145.dir
      size: 24153612575
      nfiles: 842
    - path: staging/reach
      hash: md5
      md5: 3a12b72d70720aaebee5cee8d87ac2ed.dir
      size: 870745
      nfiles: 3
    - path: staging/tox21
      hash: md5
      md5: 27818eabd93ea71026fe355098cfe0ab.dir
      size: 1382470
      nfiles: 3
    - path: staging/toxcast
      hash: md5
      md5: f89bf0b9aff5f2b34cc7af3a5af5b5da.dir
      size: 20364341
      nfiles: 3
    - path: staging/toxrefdb
      hash: md5
      md5: f998b112338dde65b0ea99b96ec42182.dir
      size: 155026
      nfiles: 3
    - path: staging/toxvaldb
      hash: md5
      md5: 72ab627800c0c81bacbbd842002f42ba.dir
      size: 4410867
      nfiles: 3
    outs:
    - path: brick/activities.parquet
      hash: md5
      md5: 9289448c9cafb5dcc7d0b60a7ba7aa83.dir
      size: 42902607309
      nfiles: 402
    - path: brick/properties.parquet
      hash: md5
      md5: cfa700879baf5329a17947c32b97c8e5.dir
      size: 392746547
      nfiles: 136
    - path: brick/substances.parquet
      hash: md5
      md5: 92a6aa8187e2bd18607e19d1b80e3b5a.dir
      size: 16554685841
      nfiles: 402
  dependencies:
    cmd: bash src/0_dependencies.sh
  pubchem:
    cmd: python3 src/09_integrate_pubchem.py
    deps:
    - path: src/09_integrate_pubchem.py
      hash: md5
      md5: 3f9672c02f9205d2211f3ae4cf6b11c2
      size: 4431
    outs:
    - path: staging/pubchem
      hash: md5
      md5: ce560f24f97fd25e84e979b4dce36145.dir
      size: 24153612575
      nfiles: 842
  ctdbase:
    cmd: Rscript src/07_integrate_ctdbase.R
    deps:
    - path: src/07_integrate_ctdbase.R
      hash: md5
      md5: 7acb6d68f095770588e36cb048382958
      size: 4480
    outs:
    - path: staging/ctdbase
      hash: md5
      md5: 6103f9fc41d9324642e6968fdd89049c.dir
      size: 106098673
      nfiles: 3
  toxrefdb:
    cmd: Rscript src/11_integrate_toxrefdb.R
    deps:
    - path: src/11_integrate_toxrefdb.R
      hash: md5
      md5: b82f83b06dd76a42691799e17c2eca14
      size: 2457
    outs:
    - path: staging/toxrefdb
      hash: md5
      md5: f998b112338dde65b0ea99b96ec42182.dir
      size: 155026
      nfiles: 3
  bindingdb:
    cmd: Rscript src/10_integrate_bindingdb.R
    deps:
    - path: src/10_integrate_bindingdb.R
      hash: md5
      md5: abbc3b89b62145e9d7d3fcafdaeb6dbd
      size: 3818
    outs:
    - path: staging/bindingdb
      hash: md5
      md5: 0b97392b9b6852fd8628c88f470d6d12.dir
      size: 916318337
      nfiles: 3
  build_property_categories:
    cmd: python src/91_property_categories.py 2> log/build_property_categories.log
    deps:
    - path: brick/properties.parquet
      hash: md5
      md5: cfa700879baf5329a17947c32b97c8e5.dir
      size: 392746547
      nfiles: 136
    - path: src/91_property_categories.py
      hash: md5
      md5: 4c27baa568c06bc495ce3f3d310ede99
      size: 3694
    outs:
    - path: brick/property_categories.parquet
      hash: md5
      md5: 6fba5b60a9d5cb43afacaab25c6c7c44.dir
      size: 2064738
      nfiles: 258
  build_property_titles:
    cmd: python src/92_llm_property_titles.py 2> log/build_property_titles.log
    deps:
    - path: brick/properties.parquet
      hash: md5
      md5: cfa700879baf5329a17947c32b97c8e5.dir
      size: 392746547
      nfiles: 136
    - path: brick/property_categories.parquet
      hash: md5
      md5: 6fba5b60a9d5cb43afacaab25c6c7c44.dir
      size: 2064738
      nfiles: 258
    - path: src/92_llm_property_titles.py
      hash: md5
      md5: 29f636f406813b6ee83340cee711db44
      size: 3379
    outs:
    - path: brick/property_titles.parquet
      hash: md5
      md5: ab73822e9cc02f0cd4d80cd9d462ae0d.dir
      size: 809075
      nfiles: 258
